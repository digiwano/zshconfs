#!/bin/zsh

if [[ -n "$__CURRENT_GIT_BRANCH" ]]; then
  local s=""
  s+="$__CURRENT_GIT_BRANCH"
  s+=" "
  case "$__CURRENT_GIT_BRANCH_STATUS" in
    ahead)
    s+="%{ğŸ”¼%1G%} "
    ;;
    diverged)
    s+="%{ğŸ”„%1G%} "
    ;;
    behind)
    s+="%{ğŸ”½%1G%} "
    ;;
  esac
  if [[ -n "$__CURRENT_GIT_BRANCH_IS_DIRTY" ]]; then
    s+="%{ğŸ™%1G%} "
  else
    s+="%{ğŸŒŸ%1G%} "
  fi

  printf " %s%s%s" "%{${fg[cyan]}%}" $s "%{$fg[default]%}"
fi
